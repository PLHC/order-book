syntax="proto3";

package marketAccess;

enum orderType {
  FillOrKill = 0;
  GoodTilCancelled = 1;
}

enum orderDirection {
  buy = 0;
  sell = 1;
}

service Communication {
  rpc DisplayRequest(DisplayParameters) returns (OrderBookContent) {}

  rpc DeleteRequest(DeletionParameters) returns (Confirmation){}

  rpc InsertionRequest(InsertionParameters) returns (Confirmation){}

  rpc UpdateRequest(UpdateParameters) returns (Confirmation){}
}

message DisplayParameters{
  string requestNumber = 1;
}

message OrderBookContent{
  bool validation = 1;
  string orderbook = 2;
  optional string comment = 3;
}

message DeletionParameters{
  int32 userID = 1;
  uint64 boID = 2;
}

message InsertionParameters{
  int32 userID = 1;
  uint64 boID = 2;
  double price = 3;
  double volume = 4;
  orderDirection buyOrSell = 5;
  orderType boType = 6;
}

message UpdateParameters{
  int32 userID = 1;
  uint64 boID = 2;
  double price = 3;
  double volume = 4;
  orderDirection buyOrSell = 5;
  orderType boType = 6;
  int64 updatedOrderID = 7;
}

message Confirmation{
  bool validation = 1;
  optional uint64 boID = 2;
  optional string comment = 3;
}